apply plugin: 'java'
apply plugin: 'maven'

group = 'pl.jeremi.antirelog'
version = '3.0.0-SNAPSHOT'
archivesBaseName = 'AntiRelog'

sourceCompatibility = 1.6
targetCompatibility = 1.6

repositories {
    jcenter()
    mavenCentral()
    maven { url "https://hub.spigotmc.org/nexus/content/repositories/snapshots/" }
    maven { url "https://repo.inventivetalent.org/content/groups/public/" }
    maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
    maven { url "http://repo.mcstats.org/content/repositories/releases/" }
    maven { url "http://repo.mcstats.org/content/repositories/snapshots/" }
}

dependencies {
    compile group: 'org.inventivetalent', name: 'bossbarapi', version: '2.4.1'
    compile group: 'org.spigotmc', name: 'spigot-api', version: '1.11-R0.1-SNAPSHOT'
}

processResources {
    filter org.apache.tools.ant.filters.ReplaceTokens, tokens: [
        'VERSION': project.version.split('-')[0]
    ]
}

jar {
    // from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } } {
    //     exclude "LICENSE.*"
    //     exclude "license.*"
    //     exclude "plugin.yml"
    //     exclude "META-INF"
    // }
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.14.1'
}
